# Diabetic Retinopathy Website
A django-based website for displaying Diabetic Retinopathy Auto-Detection.

## The website requires [django](https://www.djangoproject.com/) being installed.
- It aims to enable users to upload their own fundus photos to be classified by CNN models.
- However, this website does not link to any CNN.
- Data in server has been generated by the [first place team](https://github.com/btgraham/SparseConvNet/tree/kaggle_Diabetic_Retinopathy_competition) of [Kaggle Diabetic Retinopathy competition](https://www.kaggle.com/c/diabetic-retinopathy-detection)

## Usage
* Download the website directory.
* Install django by opening the terminal and entering the following command:
```
pip install django
```

* Change to the website directory.
* Execute:
```
python manage.py runserver
```

And you will see the website in browser with localhost:8000/diabetics/ (by default)

## [CNN models](https://github.com/btgraham/SparseConvNet/tree/kaggle_Diabetic_Retinopathy_competition)
Directory | Content
----------|------------
Model | Three trained CNN model files.
Data  | Preprocessed 300x300 sample images.(Unpreprocessed are in deepsite/media)
Script | Preprocessing and model-averaging scripts.
CNN | Modified cnn codes for small sample testing. 

### To replicate CNN classification:
1. Fork [SparseConvNet](https://github.com/btgraham/SparseConvNet/tree/kaggle_Diabetic_Retinopathy_competition), and switch to kaggle branch. 
```bash
git clone https://github.com/btgraham/SparseConvNet.git
cd SparseConvNet
git checkout kaggle_Diabetic_Retinopathy_competition
```
2. Replace files with our modified files:
  * Put files in Model into "kaggleDiabeticsRetinopathyModelfiles".
  * Put files in website/media into "Data/kaggleDiabeticRetinopathy/sample/".
  * Put files in Script into "Data/kaggleDiabeticRetinopathy/".
  * Put codes in CNN into SparseConvNet directory.

3. In "Data/kaggleDiabeticRetinopathy/", execute:
```
./createSample.sh
python preprocessImages.py
```
4. In SparseConvNet/, execute:
```
make kaggleDiabetes1
./kaggleDiabetes1 
``` 
5. Then the classification result will be stored as csv file.

## Current Functionality
- [x] Upload multiple images.
- [x] View uploaded images in table.
- [x] Simple barchart of numbers of severities.
- [x] Individual inspection of each uploaded images.
- [ ] Real-time classification with CNN models.

